
<app-table
  [tableData]="tableData"
  [isDataAvailable]="isDataAvailable"
  [isAddressAvailable]="isAddressAvailable"
  (deleteEvent)="deleteTableData($event)"
  (editEvent)="editTableData($event)"
></app-table>
<br />
<hr />
<br />

<h2>Employee Form</h2>
<div style="margin:20px;">
  <form [formGroup]="empForm" (ngSubmit)="save()">
    <button mat-raised-button color="primary" type="submit" [disabled]="empForm.invalid" (click)="openSnackBar()">Save</button>
    <br />
    <br />
    <mat-form-field
      ><input
        matInput
        type="text"
        formControlName="firstName"
        placeholder="first Name"
    /></mat-form-field>
    <mat-form-field
      ><input
        matInput
        type="text"
        formControlName="lastName"
        placeholder="last Name"
    /></mat-form-field>

    <br />
    <mat-form-field
      ><input matInput type="number" formControlName="age" placeholder="age"
    /></mat-form-field>
    <mat-form-field
      ><input
        matInput
        type="text"
        formControlName="empCode"
        placeholder="employee code"
    /></mat-form-field>
    <br />
    <mat-form-field
      ><input
        matInput
        type="text"
        formControlName="company"
        placeholder="Company"
    /></mat-form-field>
    <br />
    <label>Address</label>
    <button
      mat-icon-button
      color="primary"
      type="button"
      (click)="addAddress()"
    >
      <mat-icon>add_circle_outline</mat-icon>
    </button>
    <div formArrayName="address">
      <ol>
        <ng-container *ngFor="let add of address?.controls; let i = index">
          <div [formGroup]="$any(add)">
            <br />
            <li>
              <mat-form-field
                ><input
                  matInput
                  type="text"
                  placeholder="state"
                  formControlName="state"
              /></mat-form-field>

              <mat-form-field
                ><input
                  matInput
                  type="text"
                  placeholder="city"
                  formControlName="city"
              /></mat-form-field>

              <mat-form-field
                ><input
                  matInput
                  type="text"
                  placeholder="pincode"
                  formControlName="pincode"
              /></mat-form-field>
              <button
              mat-icon-button
              color="primary"
              type="button"
              (click)="removeAddress(i)"
            >
              <mat-icon>remove_circle_outline</mat-icon>
            </button>
            </li>
           
          </div>
        </ng-container>
      </ol>
    </div>
  </form>
</div>
